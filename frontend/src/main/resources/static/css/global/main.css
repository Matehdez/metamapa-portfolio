/* ===========================
   TOKENS — Colores y Tipografías
=========================== */

:root {
    /* ===========================
       Layout Tokens
    =========================== */
    --header-h: 72px; /* navbar desktop por defecto */

    /* ===========================
       Colores Principales
    =========================== */
    --Text: #050315;
    --LightText: #A7A7A7;
    --Background: #F3F4F6;
    --hero-bg: #EEF4FF;
    --Secondary: #EFF6FF;

    --Accent: #3B82F6;
    --DarkAccent: #475265;
    --Details: #BDFFDB;
    --AltDetails: #F97316;

    --ModuleBG: #FFFFFF;
    --InboxBG: #F2F2F2;

    --Danger: #EF4444;
    --Success: #22C55E;

    --Muted: #475569;
    --BrandText: #334155;

    /* ===========================
       Bordes y Sombras
    =========================== */
    --radius-8: 8px;
    --radius-10: 10px;
    --radius-12: 12px;

    --shadow-1: 0 1px 4px rgba(0, 0, 0, .25);
    --shadow-soft: 0 1px 3px rgba(0, 0, 0, .08);
    --shadow-elevated: 0 2px 8px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.06);
    --border-subtle: rgba(229, 231, 235, 0.3); /* Borde sutil para efecto de elevación */
    --border-light: rgba(229, 231, 235, 0.4); /* Borde ligero para formularios y componentes */
    --border-accent: rgba(71, 82, 101, 0.15); /* Borde con toque de DarkAccent para chips, mapa y colecciones */

    /* ===========================
       Aliases de Colores (minúsculas)
    =========================== */
    --text: var(--Text);
    --light-text: var(--LightText);
    --background: var(--Background);
    --secondary: var(--Secondary);
    --accent: var(--Accent);
    --dark-accent: var(--DarkAccent);
    --details: var(--Details);
    --alt-details: var(--AltDetails);
    --module-bg: var(--ModuleBG);

    /* ===========================
       Aliases UI (compatibilidad legacy - deprecados)
    =========================== */
    --ui-ink: var(--Text);
    --ui-muted: var(--DarkAccent);
    --ui-bg: var(--Background);
    --ui-border: var(--LightText);
    --ui-blue: var(--Accent);
    --ui-card: var(--ModuleBG);

    /* ===========================
       Tipografías - Fuentes
    =========================== */
    --font-sans: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    --font-brand: 'Poppins', 'Inter', system-ui, -apple-system, sans-serif;

    /* ===========================
       Tipografías - Pesos
    =========================== */
    --fw-regular: 400;
    --fw-medium: 500;
    --fw-semibold: 600;
    --fw-bold: 700;

    /* ===========================
       Tipografías - Line Heights
    =========================== */
    --lh-tight: 1.2;
    --lh-snug: 1.3;
    --lh-normal: 1.5;
    --lh-body: 1.6;
    --lh-brand: 1.1;

    /* ===========================
       Tipografías - Tamaños
    =========================== */
    --fs-body: 16px;
    --fs-large-body: 18px;
    --fs-small: 14px;
    --fs-sm: 14px; /* alias */

    --fs-h1: 32px;
    --fs-h2: 24px;
    --fs-h3: 20px;
    --fs-h4: 18px;
    --fs-h5: 16px;
    --fs-h6: 14px;

    /* Marca */
    --fs-brand: 30px; /* MetaMapa: Poppins Medium 30 */
}

/* ===========================
   BASE — Reset, Layout y Tipografía
=========================== */

/* ===========================
   Reset y Variables
=========================== */

/* Reset mínimo + box model */
* { box-sizing: border-box; }

:root {
    /* —— Espaciado local —— */
    --sp-1: .25rem;
    --sp-2: .5rem;
    --sp-3: .75rem;
    --sp-4: 1rem;
    --sp-5: 1.25rem;
    --sp-6: 1.5rem;
    --sp-8: 2rem;

    /* —— Bordes y sombras locales —— */
    --radius: 12px;
    --shadow-sm: 0 2px 6px rgba(0, 0, 0, .05);
    --shadow-md: 0 6px 16px rgba(0, 0, 0, .08);

    /* —— Layout local —— */
    --subnav-h: 44px;

    /* —— Focus ring —— */
    --focus-ring: 0 0 0 3px rgba(59, 130, 246, .35);
}

/* ===========================
   Tipografía Global
=========================== */

/* Fuente global del sitio */
html { font-size: 100%; } /* 16px por defecto */

html, body {
    font-family: var(--font-sans);
    font-weight: var(--fw-regular);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    margin: 0;
    color: var(--ui-ink);
    background: var(--ui-bg);
}

/* ===========================
   Estados Interactivos
=========================== */

/* Selección + focus visible */
::selection { background: rgba(59, 130, 246, .2); }
:where(a, button, [role="button"], input, select, textarea, [tabindex]):focus-visible {
    outline: none;
    box-shadow: var(--focus-ring);
}

/* ===========================
   Tipografía Semántica
=========================== */

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-brand);
    font-weight: var(--fw-semibold);
    line-height: var(--lh-tight);
    margin: 0 0 .5em;
    color: var(--Text, #0f172a);
}

h1 { font-size: var(--fs-h1); }
h2 { font-size: var(--fs-h2); }
h3 { font-size: var(--fs-h3); }
h4 { font-size: var(--fs-h4); }
h5 { font-size: var(--fs-h5); }
h6 { font-size: var(--fs-h6); }

body, .body {
    font-size: var(--fs-body);
    line-height: var(--lh-body);
    font-weight: var(--fw-regular);
}

.large-body { font-size: var(--fs-large-body); line-height: 1.5; }
.small-text { font-size: var(--fs-small); line-height: 1.6; }

/* Marca (solo logo MetaMapa) */
.mm-name {
    font-family: var(--font-brand);
    font-weight: var(--fw-medium);
    font-size: var(--fs-brand);
    line-height: var(--lh-brand);
}

/* ===========================
   Utilidades de Texto
=========================== */

p, li { font-size: 1rem; line-height: 1.55; }
.text-muted { color: var(--DarkAccent, #64748b); }
.fw-medium { font-weight: var(--fw-medium); }
.fw-semibold { font-weight: var(--fw-semibold); }
.fw-bold { font-weight: var(--fw-bold); }

/* ===========================
   Links
=========================== */

a { color: var(--Accent); text-decoration: none; }
a:hover, a:focus-visible { text-decoration: underline; }

/* ===========================
   Layout y Secciones
=========================== */

/* Contenedor de sección común */
.section { padding: var(--sp-6) 0; }

/* Listas limpias */
.ul-reset { list-style: none; margin: 0; padding: 0; }

/* ===========================
   Formularios Base
=========================== */

input, select, textarea, button { font: inherit; }

input, select, textarea {
    width: 100%;
    padding: .6rem .75rem;
    border: 1px solid var(--ui-border);
    border-radius: 10px;
    background: #fff;
}

input:focus, select:focus, textarea:focus {
    outline: none;
    box-shadow: var(--focus-ring);
    border-color: transparent;
}

/* ===========================
   Helpers de Accesibilidad
=========================== */

.visually-hidden {
    position: absolute !important;
    height: 1px;
    width: 1px;
    overflow: hidden;
    clip: rect(1px, 1px, 1px, 1px);
}

/* ===========================
   Responsive
=========================== */

@media (max-width: 360px) {
    :root { /* Ajustes para pantallas muy pequeñas */ }
}

/* ===========================
   COMPONENTS — UI Reutilizables (sin colisionar con Bootstrap)
   Convención: prefijo .mm-* para evitar choques con .btn/.card/.badge de Bootstrap
=========================== */

/* ===========================
   Cards
=========================== */

.mm-card {
    background: var(--ui-card);
    border: 1px solid var(--ui-border);
    border-radius: var(--radius-12);
    padding: var(--sp-5);
    box-shadow: var(--shadow-sm);
}

.mm-card--sm { padding: var(--sp-4); }
.mm-card--lg { padding: var(--sp-6); }

/* ===========================
   Botones del Sistema
=========================== */

.mm-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .5rem;
    border-radius: var(--radius-10);
    padding: .625rem 1rem; /* ~10px 16px */
    font-weight: 600;
    line-height: 1;
    text-decoration: none;
    cursor: pointer;
    border: 1px solid transparent;
    transition: transform .08s ease, box-shadow .12s ease, opacity .12s ease;
    background: transparent;
    color: var(--ui-ink, #111827);
}

.mm-btn:focus-visible {
    outline: 2px solid color-mix(in srgb, var(--Accent) 45%, white);
    outline-offset: 2px;
}

.mm-btn:disabled,
.mm-btn[aria-disabled="true"] {
    opacity: .6;
    pointer-events: none;
}

/* Variantes de botones */
.mm-btn--primary {
    background: var(--Accent);
    color: #fff;
    border-color: var(--Accent);
}

.mm-btn--primary:hover,
.mm-btn--primary:focus-visible {
    opacity: .95;
    transform: translateY(-1px);
}

.mm-btn--ghost {
    background: transparent;
    color: var(--Accent);
    border-color: var(--Accent);
}

.mm-btn--ghost:hover,
.mm-btn--ghost:focus-visible {
    background: color-mix(in srgb, var(--Accent) 8%, transparent);
}

/* Variante "outline light" (ej. botones de cards de landing) */
.mm-btn--outline-light {
    background: transparent;
    color: var(--Text, #111827);
    border-color: var(--LightText, #94a3b8);
}

/* Tamaños de botones */
.mm-btn--sm { padding: .5rem .75rem; font-size: .875rem; }
.mm-btn--lg { padding: .75rem 1.25rem; font-size: 1.0625rem; }

/* ===========================
   Badges y Pills
=========================== */

.mm-badge {
    display: inline-block;
    padding: .25rem .5rem;
    border-radius: 999px;
    background: #eef2ff;
    color: #3730a3;
    font-weight: 600;
    font-size: var(--fs-sm);
}

.mm-badge--warn  { background: #fef3c7; color: #b45309; }
.mm-badge--error { background: #fee2e2; color: #991b1b; }

/* ===========================
   Íconos
=========================== */

.icon {
    width: 1em;
    height: 1em;
    display: inline-block;
    vertical-align: -0.125em;
    color: currentColor;
}

.icon-md { width: 1.25rem; height: 1.25rem; }
.icon-lg { width: 1.5rem; height: 1.5rem; }
.icon-xl { width: 2rem; height: 2rem; }

.icon-img {
    width: 24px;
    height: 24px;
    display: inline-block;
    vertical-align: middle;
}
